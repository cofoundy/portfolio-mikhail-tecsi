---
import { siteConfig } from "../config";
---

<section id="publications" class="py-16 md:py-24" style="background-color: var(--color-surface)">
  <div class="mx-auto max-w-6xl px-8 sm:px-12 md:px-24">
    <div class="grid grid-cols-1 lg:grid-cols-12 gap-8 lg:gap-16 items-start">
      <div class="lg:col-span-4 reveal">
        <h2
          class="font-heading text-2xl md:text-3xl font-bold"
          style={`color: ${siteConfig.accentColor}`}
        >
          Publicaciones Academicas
        </h2>
        <div
          class="w-16 h-1 mt-3 rounded-full"
          style={`background-color: ${siteConfig.accentColor}`}
        />
      </div>

      <div class="lg:col-span-8">
        <div class="space-y-4">
          {siteConfig.publications?.map((pub: any, index: number) => (
            <article
              class="group reveal card-hover p-5 md:p-6 rounded-xl border"
              style={`background-color: var(--color-bg); border-color: var(--color-surface-border); transition-delay: ${index * 0.1}s`}
            >
              <div class="flex flex-col md:flex-row md:items-start gap-4">
                <div
                  class="shrink-0 w-12 h-12 rounded-lg flex items-center justify-center text-white font-bold text-sm"
                  style={`background: linear-gradient(135deg, ${siteConfig.accentColor}, ${siteConfig.secondaryColor || '#102A43'})`}
                >
                  {pub.year.slice(-2)}
                </div>
                <div class="flex-1">
                  <h3 class="text-lg font-semibold mb-1" style="color: var(--color-text)">
                    {pub.link && pub.link !== '#' ? (
                      <a
                        href={pub.link}
                        target="_blank"
                        rel="noopener noreferrer"
                        class="pub-link-hover"
                        style={`color: ${siteConfig.accentColor}`}
                      >
                        {pub.title}
                      </a>
                    ) : (
                      pub.title
                    )}
                  </h3>
                  <p class="text-sm opacity-60" style="color: var(--color-text)">
                    {pub.journal} &middot; {pub.year}
                  </p>
                </div>
                {pub.link && pub.link !== '#' && (
                  <a
                    href={pub.link}
                    target="_blank"
                    rel="noopener noreferrer"
                    class="ext-link-icon shrink-0 opacity-40 hover:opacity-100"
                    aria-label="Ver publicacion"
                  >
                    <svg xmlns="http://www.w3.org/2000/svg" width="20" height="20" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2">
                      <path d="M12 6H6a2 2 0 0 0-2 2v10a2 2 0 0 0 2 2h10a2 2 0 0 0 2-2v-6"/>
                      <path d="M11 13l9-9"/>
                      <path d="M15 4h5v5"/>
                    </svg>
                  </a>
                )}
              </div>
            </article>
          ))}
        </div>
      </div>
    </div>
  </div>
</section>

<div class="section-divider max-w-6xl mx-auto"></div>
